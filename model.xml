<mujoco>
    <asset>
        <texture type="skybox" builtin="gradient" rgb1="0.4314 0.5294 0.6431" rgb2="0 0 0" width="512" height="512"/>
        <texture type="2d" name="groundplane" builtin="checker" mark="edge" rgb1="0.4314 0.5294 0.6431" rgb2="0.8157 0.8549 0.9059" markrgb="0.8 0.8 0.8" width="300" height="300"/>
        <texture type="2d" name="platform" builtin="checker" rgb1="0.5 0.5 0.8" rgb2="0.9 0.9 0.9" markrgb="1 1 1" width="300" height="300"/>
        <material name="groundplane" texture="groundplane" texuniform="true" texrepeat="1 1" reflectance="0.2"/>
        <material name="grey_metal" texture="platform" texuniform="true" texrepeat="2 2" specular="1" metallic="0.8"/>
    </asset>

    <default>
        <joint damping="1" solreflimit="0.002 1"/>
        <position kp="1000000" kv="20000" inheritrange="1"/>
        <equality solref="0.001 1"/>
        <default class="leg-slide">
            <joint type="slide" range="0 0.7" axis="0 0 1" />
        </default>
        <default class="no-collision">
            <geom contype="0" conaffinity="0"/>
            <default class="leg_down">
                <geom type="box" size="0.025 0.025 0.48" rgba="0 0 1 1"/>
            </default>
            <default class="leg_up">
                <geom type="box" size="0.01 0.01 0.5" rgba="1 0 0 1"/>
            </default>
        </default>
    </default>

    <worldbody>
        <body name="payload" pos="0 0 0.5">
            <freejoint/>
            <geom type="box" size="0.35 0.35 0.35" pos="0 0 1.5" rgba="0 1 0 1"/>
        </body>
    </worldbody>

    <worldbody>
        <light pos="0 0 1.5" dir="0 0 -1" directional="true"/>
        <light pos="0 0 1.5" dir="0 -5 -1" directional="true"/>

        <geom name="floor" pos="0 0 0" size="0 0 0.01" type="plane" material="groundplane"/>
        <geom class="no-collision" type="cylinder" size="1.1 0.05" rgba="0 1 1 1"/>
        <body name="top" pos="0 0 1">
            <freejoint/>
            <geom type="cylinder" size="0.8 0.05" pos="0 0 0.05" material="grey_metal"/>
        </body>

        <replicate count="3" euler="0 0 120">
            <!--定义1号连杆底座的位置以及朝向-->
            <body childclass="no-collision" pos="-0.707 -0.707 0.05" xyaxes="1 -1 0 1 1 0">
                <!--下面的三个Geom我们来模拟UniversalJoint的可视化-->
                <geom type="box" pos="-0.02 0.0 0.03" size="0.005 0.01 0.03"/>
                <geom type="box" pos="0.02 0.0 0.03" size="0.005 0.01  0.03"/>
                <geom type="cylinder" pos="0 0 0.05" size="0.005 0.02" axisangle="0 1 0 90"/>
                <!--定义1号连杆的下半部分-->
                <body name="leg0" pos="0 0 0.05" euler="-30 20 0">
                    <!--定义Universal Joint， 由两个十字的HingeJoint组合而成-->
                    <joint type="hinge" axis="0 1 0"/>
                    <joint type="hinge" axis="1 0 0"/>

                    <!--下面三个Geom同样是模拟Universal Joint的可视化-->
                    <geom type="cylinder" size="0.005 0.03" axisangle="1 0 0 90"/>
                    <geom type="box" pos="0 -0.03 0.03" size="0.02 0.005 0.04"/>
                    <geom type="box" pos="0 0.03 0.03" size="0.02 0.005 0.04"/>

                    <!-- 定义连杆的下半部分几何形状-->
                    <geom class="leg_down" pos="0 0 0.5" rgba="0 0 1 1"/>
                    <!-- 定义连杆的上半部分-->
                    <body name="leg_up0" pos="0 0 0.1">
                        <!-- 连杆上半部分通过滑动关节与下半部分连接-->
                        <joint class="leg-slide" name="slide0"/>
                        <geom class="leg_up" pos="0 0 0.5"/>
                        <!-- 定义上半部分的连接点-->
                        <body name="top_connect0" pos="0 0 1">
                            <geom type="sphere" size="0.02" rgba="1 0 0 1"/>
                        </body>
                    </body>
                </body>
            </body>

            <body childclass="no-collision" pos="0.707 -0.707 0.05" xyaxes="1 1 0 -1 1 0">
                <geom type="box" pos="-0.02 0.0 0.03" size="0.005 0.01 0.03"/>
                <geom type="box" pos="0.02 0.0 0.03" size="0.005 0.01  0.03"/>
                <geom type="cylinder" pos="0 0 0.05" size="0.005 0.02" axisangle="0 1 0 90"/>
                <body name="leg1" pos="0 0 0.05" euler="-30 -20 0">
                    <joint type="hinge" axis="0 1 0"/>
                    <joint type="hinge" axis="1 0 0"/>
                    <geom type="cylinder" size="0.005 0.03" axisangle="1 0 0 90"/>
                    <geom type="box" pos="0 -0.03 0.03" size="0.02 0.005 0.04"/>
                    <geom type="box" pos="0 0.03 0.03" size="0.02 0.005 0.04"/>

                    <geom class="leg_down" pos="0 0 0.5" rgba="0 0 1 1"/>
                    <body name="leg_up1" pos="0 0 0.1">
                        <joint class="leg-slide" name="slide1"/>
                        <geom class="leg_up" pos="0 0 0.5"/>
                        <body name="top_connect1" pos="0 0 1">
                            <geom type="sphere" size="0.02" rgba="1 0 0 1"/>
                        </body>
                    </body>
                </body>
            </body>
        </replicate>


    </worldbody>

    <equality>
        <connect body1="leg_up00" body2="top" anchor="0 0 1"/>
        <connect body1="leg_up01" body2="top" anchor="0 0 1"/>
        <connect body1="leg_up02" body2="top" anchor="0 0 1"/>
        <connect body1="leg_up10" body2="top" anchor="0 0 1"/>
        <connect body1="leg_up11" body2="top" anchor="0 0 1"/>
        <connect body1="leg_up12" body2="top" anchor="0 0 1"/>
    </equality>


    <actuator>
        <position name="a0" joint="slide00" />
        <position name="a1" joint="slide10" />
        <position name="a2" joint="slide01" />
        <position name="a3" joint="slide11" />
        <position name="a4" joint="slide02" />
        <position name="a5" joint="slide12" />
    </actuator>
</mujoco>